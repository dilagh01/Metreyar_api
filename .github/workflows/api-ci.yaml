name: Create Project Structure with Empty Files

on:
  workflow_dispatch:
  push:
    branches: [main]
    paths:
      - '.github/workflows/create-structure.yml'

jobs:
  create-structure:
    runs-on: ubuntu-latest
    
    steps:
    - name: Checkout repository
      uses: actions/checkout@v4
      with:
        fetch-depth: 0
      
    - name: Create complete project structure
      run: |
        echo "ğŸ“ Ø§ÛŒØ¬Ø§Ø¯ Ø³Ø§Ø®ØªØ§Ø± Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒâ€ŒÙ‡Ø§..."

        # Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒâ€ŒÙ‡Ø§ÛŒ backend Ùˆ app
        mkdir -p backend/app/{api/v1,models,schemas,database,core,services}
        mkdir -p backend/tests

        # Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒâ€ŒÙ‡Ø§ÛŒ Ø¯ÛŒÚ¯Ø± Ù¾Ø±ÙˆÚ˜Ù‡
        mkdir -p data/migrations
        mkdir -p scripts
        mkdir -p docs

        # Ø§ÛŒØ¬Ø§Ø¯ __init__.py Ø¯Ø± Ù¾Ú©ÛŒØ¬â€ŒÙ‡Ø§
        for dir in backend backend/app backend/app/api backend/app/api/v1 \
                 backend/app/models backend/app/schemas backend/app/database \
                 backend/app/core backend/app/services backend/tests; do
          touch "$dir/__init__.py"
        done

        # Ø§ÛŒØ¬Ø§Ø¯ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø§ØµÙ„ÛŒ Ø®Ø§Ù„ÛŒ
        touch backend/app/main.py
        touch backend/app/database/session.py
        touch backend/app/database/base.py
        touch backend/app/core/config.py
        touch backend/app/core/security.py

        echo "âœ… Ø³Ø§Ø®ØªØ§Ø± Ø¯Ø§ÛŒØ±Ú©ØªÙˆØ±ÛŒâ€ŒÙ‡Ø§ Ùˆ ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø®Ø§Ù„ÛŒ Ø§ÛŒØ¬Ø§Ø¯ Ø´Ø¯"
